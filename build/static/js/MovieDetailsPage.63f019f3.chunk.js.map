{"version":3,"sources":["services/moviesApi.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","views/movieDetailsPage/MovieDetailsPage.module.css","components/additionalInfo/AdditionalInfo.js","views/movieDetailsPage/MovieDetailsPage.js"],"names":["axios","defaults","baseURL","apiKey","fetchTrendingMovies","then","response","data","results","fetchMovieDetails","id","fetchMovieCast","cast","fetchMovieReviews","fetchMoviesWithQuery","searchQuery","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","module","exports","AdditionalInfo","this","props","exact","to","pathname","state","from","newLocation","className","styles","NavigationLink","AddInfoLink","activeClassName","NavigationLinkActive","Component","AsyncCast","lazy","AsyncReviews","MovieDetailsPage","movie","images","handleGoBack","location","history","routes","moviesPage","moviesApi","match","params","movieId","setState","backBtn","onClick","movieWrapper","imageWrapper","src","poster_path","alt","original_title","detailsWrapper","release_date","slice","vote_average","overview","genres","reduce","acc","genre","name","fallback","path","component"],"mappings":"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","file":"static/js/MovieDetailsPage.63f019f3.chunk.js","sourcesContent":["import axios from \"axios\";\r\naxios.defaults.baseURL = \"https://api.themoviedb.org/3\";\r\n\r\nconst apiKey = \"cb1a8b1295760b4784d716a22b5dd1db\";\r\n\r\nconst fetchTrendingMovies = () => {\r\n  return axios(`/trending/movie/day?api_key=${apiKey}`).then(\r\n    (response) => response.data.results\r\n  );\r\n};\r\n\r\nconst fetchMovieDetails = (id) => {\r\n  return axios(`/movie/${id}?api_key=${apiKey}`).then(\r\n    (response) => response.data\r\n  );\r\n};\r\n\r\nconst fetchMovieCast = (id) => {\r\n  return axios(`/movie/${id}/credits?api_key=${apiKey}`).then(\r\n    (response) => response.data.cast\r\n  );\r\n};\r\n\r\nconst fetchMovieReviews = (id) => {\r\n  return axios(`/movie/${id}/reviews?api_key=${apiKey}`).then(\r\n    (response) => response.data.results\r\n  );\r\n};\r\n\r\nconst fetchMoviesWithQuery = (searchQuery) => {\r\n  return axios(`/search/movie?api_key=${apiKey}&query=${searchQuery}`).then(\r\n    (response) => response.data.results\r\n  );\r\n};\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default {\r\n  fetchTrendingMovies,\r\n  fetchMovieDetails,\r\n  fetchMovieCast,\r\n  fetchMovieReviews,\r\n  fetchMoviesWithQuery,\r\n};\r\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backBtn\":\"MovieDetailsPage_backBtn__3T8s_\",\"movieWrapper\":\"MovieDetailsPage_movieWrapper__1kjvv\",\"imageWrapper\":\"MovieDetailsPage_imageWrapper__mQkfa\"};","import React, { Component } from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport styles from \"../navigation/Navigation.module.css\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default class AdditionalInfo extends Component {\r\n  render() {\r\n    const { id } = this.props;\r\n    return (\r\n      <div>\r\n        <p>Additional information</p>\r\n        <NavLink\r\n          exact\r\n          to={{\r\n            pathname: `/movie/${id}/cast`,\r\n            state: { from: this.props.newLocation },\r\n          }}\r\n          className={styles.NavigationLink + \" \" + styles.AddInfoLink}\r\n          activeClassName={styles.NavigationLinkActive}\r\n        >\r\n          Cast\r\n        </NavLink>\r\n        <br />\r\n        <NavLink\r\n          to={{\r\n            pathname: `/movie/${id}/reviews`,\r\n            state: { from: this.props.newLocation },\r\n          }}\r\n          className={styles.NavigationLink + \" \" + styles.AddInfoLink}\r\n          activeClassName={styles.NavigationLinkActive}\r\n        >\r\n          Reviews\r\n        </NavLink>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nAdditionalInfo.propTypes = {\r\n  id: PropTypes.number.isRequired,\r\n};\r\n","import React, { Component, lazy, Suspense } from \"react\";\r\nimport { Route } from \"react-router-dom\";\r\nimport routes from \"../../routes\";\r\nimport moviesApi from \"../../services/moviesApi\";\r\nimport styles from \"./MovieDetailsPage.module.css\";\r\nimport AdditionalInfo from \"../../components/additionalInfo/AdditionalInfo\";\r\n\r\nconst AsyncCast = lazy(() =>\r\n  import(\"../../components/cast/Cast\" /* webpackChunkName: \"CastSection\" */)\r\n);\r\nconst AsyncReviews = lazy(() =>\r\n  import(\r\n    \"../../components/reviews/Reviews\" /* webpackChunkName: \"ReviewsSection\" */\r\n  )\r\n);\r\n\r\nexport default class MovieDetailsPage extends Component {\r\n  state = {\r\n    movie: null,\r\n    images: [],\r\n  };\r\n\r\n  componentDidMount() {\r\n    moviesApi\r\n      .fetchMovieDetails(this.props.match.params.movieId)\r\n      .then((movie) => this.setState({ movie }));\r\n  }\r\n\r\n  handleGoBack = () => {\r\n    const {\r\n      location: { state },\r\n      history,\r\n    } = this.props;\r\n\r\n    if (state && state.from) {\r\n      return history.push(state.from);\r\n    }\r\n    history.push(routes.moviesPage);\r\n  };\r\n\r\n  render() {\r\n    const { movie } = this.state;\r\n    return (\r\n      <div>\r\n        <button className={styles.backBtn} onClick={this.handleGoBack}>\r\n          &#8592; Go back\r\n        </button>\r\n        <br />\r\n        {movie && (\r\n          <>\r\n            <div className={styles.movieWrapper}>\r\n              <div className={styles.imageWrapper}>\r\n                <img\r\n                  src={`https://image.tmdb.org/t/p/w200/${movie.poster_path}`}\r\n                  alt={movie.original_title}\r\n                />\r\n              </div>\r\n              <div className={styles.detailsWrapper}>\r\n                <h2>\r\n                  {movie.original_title} ({movie.release_date.slice(0, 4)})\r\n                </h2>\r\n                <p>User Score: {movie.vote_average * 10}%</p>\r\n                <h3>Overview</h3>\r\n                <p>{movie.overview}</p>\r\n                <h4>Genres</h4>\r\n                <p>\r\n                  {movie.genres.reduce(\r\n                    (acc, genre) => (acc += `${genre.name} `),\r\n                    \"\"\r\n                  )}\r\n                </p>\r\n              </div>\r\n            </div>\r\n            <AdditionalInfo\r\n              newLocation={{ ...this.props.location.state.from }}\r\n              id={movie.id}\r\n            />\r\n            <Suspense fallback={<h1>Loading...</h1>}>\r\n              <Route path=\"/movie/:movieId/cast\" component={AsyncCast} />\r\n              <Route path=\"/movie/:movieId/reviews\" component={AsyncReviews} />\r\n            </Suspense>\r\n          </>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"],"sourceRoot":""}